<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>é£æ—ç«å±±</title>
    <link>http://localhost:1313/post/</link>
    <description>Recent content from é£æ—ç«å±±</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    
    <managingEditor>xxx@example.com (åœ£å­ç™¾ç‚¼)</managingEditor>
    <webMaster>xxx@example.com (åœ£å­ç™¾ç‚¼)</webMaster>
    
    <copyright>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ BY-NC-SA è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</copyright>
    
    <lastBuildDate>Thu, 17 Jul 2025 00:00:00 -0700</lastBuildDate>
    
    
    <atom:link href="http://localhost:1313/post/index.xml" rel="self" type="application/rss&#43;xml" />
    

    
    

    <item>
      <title>å®æ—¶é‡‡é›†çš„æ–¹æ³•</title>
      <link>http://localhost:1313/post/%E6%B0%B4%E5%88%A9%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD/</link>
      <pubDate>Thu, 17 Jul 2025 00:00:00 -0700</pubDate>
      <author>xxx@example.com (åœ£å­ç™¾ç‚¼)</author>
      <guid>http://localhost:1313/post/%E6%B0%B4%E5%88%A9%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD/</guid>
      <description>
        <![CDATA[<h1>å®æ—¶é‡‡é›†çš„æ–¹æ³•</h1><p>ä½œè€…ï¼šåœ£å­ç™¾ç‚¼ï¼ˆxxx@example.comï¼‰</p>
        
          <ol>
<li>
<p>åæ¨å…¥åº“ï¼š<strong>åæ¨å…¥åº“æµé‡å°±æ˜¯ç”¨æ—¶æ®µå†…åº“å®¹å·®æ¨å‡ºä¸€ åœºæ´ªæ°´çš„å®é™…å…¥åº“è¿‡ç¨‹</strong>ï¼Œæœ¬æ„æ˜¯è¿˜åŸæ¬¡é™æ°´å½¢æˆçš„æ´ªæ°´ç”±èµ· æ¶¨<del>å³°é¡¶</del>è½å¹³çš„åŸå§‹è¿‡ç¨‹ã€‚
Â </p>
</li>
<li>
<p>åº“å®¹ï¼š<strong>æŒ‡æ°´åº“åœ¨æŸä¸€æ°´ä½ä¸‹å¯å‚¨å­˜çš„æ°´ä½“æ€»ä½“ç§¯ï¼Œé€šå¸¸åˆ†ä¸ºå¤šä¸ªå±‚çº§</strong>ï¼š</p>
        
        <hr><p>æœ¬æ–‡2025-07-17é¦–å‘äº<a href='http://localhost:1313/'>é£æ—ç«å±±</a>ï¼Œæœ€åä¿®æ”¹äº2025-07-17</p>]]>
      </description>
      
    </item>
    
    

    <item>
      <title>å®æ—¶é‡‡é›†çš„æ–¹æ³•</title>
      <link>http://localhost:1313/post/%E5%AE%9E%E6%97%B6%E9%87%87%E9%9B%86%E6%96%B9%E6%B3%95/</link>
      <pubDate>Fri, 27 Jun 2025 00:00:00 -0700</pubDate>
      <author>xxx@example.com (åœ£å­ç™¾ç‚¼)</author>
      <guid>http://localhost:1313/post/%E5%AE%9E%E6%97%B6%E9%87%87%E9%9B%86%E6%96%B9%E6%B3%95/</guid>
      <description>
        <![CDATA[<h1>å®æ—¶é‡‡é›†çš„æ–¹æ³•</h1><p>ä½œè€…ï¼šåœ£å­ç™¾ç‚¼ï¼ˆxxx@example.comï¼‰</p>
        
          <h2 id="1">
<a class="header-anchor" href="#1"></a>
1.
</h2><h2 id="ä½¿ç”¨-flume-é‡‡é›†æŸç«¯å£çš„å®æ—¶æ•°æ®æµå¹¶å­˜å…¥-kafka-æŒ‡å®šçš„topic-ä¸­">
<a class="header-anchor" href="#%e4%bd%bf%e7%94%a8-flume-%e9%87%87%e9%9b%86%e6%9f%90%e7%ab%af%e5%8f%a3%e7%9a%84%e5%ae%9e%e6%97%b6%e6%95%b0%e6%8d%ae%e6%b5%81%e5%b9%b6%e5%ad%98%e5%85%a5-kafka-%e6%8c%87%e5%ae%9a%e7%9a%84topic-%e4%b8%ad"></a>
ä½¿ç”¨ Flume é‡‡é›†æŸç«¯å£çš„å®æ—¶æ•°æ®æµå¹¶å­˜å…¥ Kafka æŒ‡å®šçš„Topic ä¸­
</h2><h3 id="flumeçš„é…ç½®">
<a class="header-anchor" href="#flume%e7%9a%84%e9%85%8d%e7%bd%ae"></a>
flumeçš„é…ç½®
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">a1.sources=r1
</span></span><span class="line"><span class="cl">a1.sinks=k1
</span></span><span class="line"><span class="cl">a1.channels=c1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">a1.sources.r1.type=netcat
</span></span><span class="line"><span class="cl">a1.sources.r1.bind=master
</span></span><span class="line"><span class="cl">a1.sources.r1.port=9999
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">a1.sinks.k1.type=org.apache.flume.sink.kafka.KafkaSink
</span></span><span class="line"><span class="cl">a1.sinks.k1.brokerList=master:9092,slave1:9092,slave2:9092
</span></span><span class="line"><span class="cl">a1.sinks.k1.topic=lol
</span></span><span class="line"><span class="cl">a1.sinks.k1.serializer.class=kafka.serializer.StringEncoding
</span></span><span class="line"><span class="cl">a1.sinks.kafka.producer.max.request.size=10240000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">a1.channels.c1.type=memory
</span></span><span class="line"><span class="cl">a1.channels.c1.capacity=100000
</span></span><span class="line"><span class="cl">a1.channels.c1.transactionCapacity=1000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">a1.sources.r1.channels=c1
</span></span><span class="line"><span class="cl">a1.sinks.k1.channel=c1
</span></span></code></pre></div><h3 id="å¦‚ä½•åš">
<a class="header-anchor" href="#%e5%a6%82%e4%bd%95%e5%81%9a"></a>
#å¦‚ä½•åš
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1.å¯åŠ¨è‡ªå·±é…ç½®çš„flumeæ–‡ä»¶
</span></span><span class="line"><span class="cl">2.å¯åŠ¨kafka
</span></span><span class="line"><span class="cl">3.é…ç½®kafkaä¸»é¢˜
</span></span><span class="line"><span class="cl">4.æ¶ˆè´¹kafka
</span></span></code></pre></div><h2 id="2">
<a class="header-anchor" href="#2"></a>
2.
</h2><h2 id="ä½¿ç”¨-maxwell-é‡‡é›†-mysql-çš„-binlog-æ—¥å¿—å¹¶å­˜å…¥-kafka-æŒ‡å®šçš„topic-ä¸­">
<a class="header-anchor" href="#%e4%bd%bf%e7%94%a8-maxwell-%e9%87%87%e9%9b%86-mysql-%e7%9a%84-binlog-%e6%97%a5%e5%bf%97%e5%b9%b6%e5%ad%98%e5%85%a5-kafka-%e6%8c%87%e5%ae%9a%e7%9a%84topic-%e4%b8%ad"></a>
ä½¿ç”¨ Maxwell é‡‡é›† MySQL çš„ binlog æ—¥å¿—å¹¶å­˜å…¥ Kafka æŒ‡å®šçš„Topic ä¸­
</h2><h3 id="maxwellçš„é…ç½®">
<a class="header-anchor" href="#maxwell%e7%9a%84%e9%85%8d%e7%bd%ae"></a>
Maxwellçš„é…ç½®
</h3><p>åœ¨Maxwellä¸­é…ç½®åˆ°config.propertiesæ–‡ä»¶ï¼ˆå¯èƒ½éœ€è¦è‡ªå·±åˆ›å»ºï¼‰</p>
        
        <hr><p>æœ¬æ–‡2025-06-27é¦–å‘äº<a href='http://localhost:1313/'>é£æ—ç«å±±</a>ï¼Œæœ€åä¿®æ”¹äº2025-06-27</p>]]>
      </description>
      
    </item>
    
    

    <item>
      <title>Maxwell å’Œ MySQL é…ç½®ç¤ºä¾‹</title>
      <link>http://localhost:1313/post/1.-mysql-%E9%85%8D%E7%BD%AE/</link>
      <pubDate>Fri, 27 Jun 2025 00:00:00 -0700</pubDate>
      <author>xxx@example.com (åœ£å­ç™¾ç‚¼)</author>
      <guid>http://localhost:1313/post/1.-mysql-%E9%85%8D%E7%BD%AE/</guid>
      <description>
        <![CDATA[<h1>Maxwell å’Œ MySQL é…ç½®ç¤ºä¾‹</h1><p>ä½œè€…ï¼šåœ£å­ç™¾ç‚¼ï¼ˆxxx@example.comï¼‰</p>
        
          <h3 id="1-mysql-é…ç½®">
<a class="header-anchor" href="#1-mysql-%e9%85%8d%e7%bd%ae"></a>
<strong>1. MySQL é…ç½®</strong>
</h3><p>ç¼–è¾‘ MySQL é…ç½®æ–‡ä»¶ï¼ˆå¦‚ <code>/etc/my.cnf</code> æˆ– <code>/usr/local/mysql/my.cnf</code>ï¼‰ï¼Œç¡®ä¿ä»¥ä¸‹é…ç½®ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[mysqld]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># åŸºç¡€è®¾ç½®</span>
</span></span><span class="line"><span class="cl"><span class="na">datadir</span><span class="o">=</span><span class="s">/usr/local/mysql/data</span>
</span></span><span class="line"><span class="cl"><span class="na">port</span><span class="o">=</span><span class="s">3306</span>
</span></span><span class="line"><span class="cl"><span class="na">max_connections</span><span class="o">=</span><span class="s">400</span>
</span></span><span class="line"><span class="cl"><span class="na">sql_mode</span><span class="o">=</span><span class="s">NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span>
</span></span><span class="line"><span class="cl"><span class="na">lower_case_table_names</span><span class="o">=</span><span class="s">1</span>
</span></span><span class="line"><span class="cl"><span class="na">innodb_file_per_table</span><span class="o">=</span><span class="s">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># binlog é…ç½®</span>
</span></span><span class="line"><span class="cl"><span class="na">server-id</span><span class="o">=</span><span class="s">1                          # æ¯ä¸ªå®ä¾‹å”¯ä¸€</span>
</span></span><span class="line"><span class="cl"><span class="na">log-bin</span><span class="o">=</span><span class="s">mysql-bin                    # å¯ç”¨ binlog å¹¶è®¾ç½®åŸºæœ¬åç§°</span>
</span></span><span class="line"><span class="cl"><span class="na">binlog_format</span><span class="o">=</span><span class="s">row                    # è®¾ç½® binlog æ ¼å¼ä¸º ROW</span>
</span></span><span class="line"><span class="cl"><span class="na">expire_logs_days</span><span class="o">=</span><span class="s">7                   # binlog æ–‡ä»¶ä¿ç•™ 7 å¤©åè‡ªåŠ¨æ¸…ç†</span>
</span></span><span class="line"><span class="cl"><span class="na">binlog_do_db</span><span class="o">=</span><span class="s">shtd_db1                # ä»…è®°å½•æŒ‡å®šæ•°æ®åº“çš„ binlog</span>
</span></span><span class="line"><span class="cl"><span class="c1"># å¦‚æœæœ‰å¤šä¸ªæ•°æ®åº“ï¼Œå¯ä»¥é‡å¤æ·»åŠ  binlog-do-db è¡Œ</span>
</span></span><span class="line"><span class="cl"><span class="c1"># binlog-do-db=shtd_db2</span>
</span></span></code></pre></div><hr>
<h3 id="2-åˆ›å»º-maxwell-ç”¨æˆ·">
<a class="header-anchor" href="#2-%e5%88%9b%e5%bb%ba-maxwell-%e7%94%a8%e6%88%b7"></a>
<strong>2. åˆ›å»º Maxwell ç”¨æˆ·</strong>
</h3><p>åœ¨ MySQL ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¸º Maxwell åˆ›å»ºä¸€ä¸ªç”¨æˆ·å¹¶æˆäºˆå¿…è¦æƒé™ï¼š</p>
        
        <hr><p>æœ¬æ–‡2025-06-27é¦–å‘äº<a href='http://localhost:1313/'>é£æ—ç«å±±</a>ï¼Œæœ€åä¿®æ”¹äº2025-06-27</p>]]>
      </description>
      
    </item>
    
    

    <item>
      <title>Vueå‰ç«¯ &#43; åç«¯ Flask æ„å»º</title>
      <link>http://localhost:1313/post/vue_flask_guide/</link>
      <pubDate>Wed, 15 May 2024 11:00:00 -0700</pubDate>
      <author>xxx@example.com (åœ£å­ç™¾ç‚¼)</author>
      <guid>http://localhost:1313/post/vue_flask_guide/</guid>
      <description>
        <![CDATA[<h1>Vueå‰ç«¯ + åç«¯ Flask æ„å»º</h1><p>ä½œè€…ï¼šåœ£å­ç™¾ç‚¼ï¼ˆxxx@example.comï¼‰</p>
        
          <h2 id="ä¸€å‰ç«¯æ„å»ºæ­¥éª¤">
<a class="header-anchor" href="#%e4%b8%80%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e6%ad%a5%e9%aa%a4"></a>
ä¸€ã€å‰ç«¯æ„å»ºæ­¥éª¤
</h2><h3 id="1-å®‰è£…-nodejs">
<a class="header-anchor" href="#1-%e5%ae%89%e8%a3%85-nodejs"></a>
1. å®‰è£… Node.js
</h3><ul>
<li>è®¿é—®å®˜ç½‘ä¸‹è½½å®‰è£…ï¼š <a href="https://nodejs.org/zh-cn/download">https://nodejs.org/zh-cn/download</a></li>
<li>ä¸‹è½½ Windows 64 ä½ <code>.msi</code> æ–‡ä»¶ï¼Œå®‰è£…æ—¶å»ºè®®ä¸è¦å®‰è£…åˆ° C ç›˜æˆ–å¸¦ä¸­æ–‡çš„ç›®å½•ã€‚</li>
</ul>
<p><strong>éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">node -v
</span></span><span class="line"><span class="cl">npm -v
</span></span></code></pre></div><h3 id="2-å‡çº§ç›¸å…³ä¾èµ–">
<a class="header-anchor" href="#2-%e5%8d%87%e7%ba%a7%e7%9b%b8%e5%85%b3%e4%be%9d%e8%b5%96"></a>
2. å‡çº§ç›¸å…³ä¾èµ–
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">npm install express --registry<span class="o">=</span>https://registry.npm.taobao.org
</span></span><span class="line"><span class="cl">npm install -g node
</span></span><span class="line"><span class="cl">npm install -g npm
</span></span><span class="line"><span class="cl">npm install -g cnpm --registry<span class="o">=</span>https://registry.npm.taobao.org
</span></span></code></pre></div><h3 id="3-å®‰è£…-vue-cli-è„šæ‰‹æ¶å·¥å…·">
<a class="header-anchor" href="#3-%e5%ae%89%e8%a3%85-vue-cli-%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"></a>
3. å®‰è£… vue-cli è„šæ‰‹æ¶å·¥å…·
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">npm install -g @vue/cli
</span></span><span class="line"><span class="cl">vue -V  <span class="c1"># æŸ¥çœ‹ç‰ˆæœ¬ï¼Œå¿…é¡»ä¸º 4.5.X ä»¥ä¸Š</span>
</span></span></code></pre></div><p><strong>å¦‚éœ€å‡çº§ vue-cliï¼š</strong></p>
        
        <hr><p>æœ¬æ–‡2024-05-15é¦–å‘äº<a href='http://localhost:1313/'>é£æ—ç«å±±</a>ï¼Œæœ€åä¿®æ”¹äº2024-05-15</p>]]>
      </description>
      
    </item>
    
    

    <item>
      <title>Flume &#43; Flink Kafka å®æ—¶å¤„ç†ä»»åŠ¡é…ç½®ä¸å¼€å‘</title>
      <link>http://localhost:1313/post/flink_kafka_job_guide.md/</link>
      <pubDate>Wed, 15 May 2024 11:00:00 -0700</pubDate>
      <author>xxx@example.com (åœ£å­ç™¾ç‚¼)</author>
      <guid>http://localhost:1313/post/flink_kafka_job_guide.md/</guid>
      <description>
        <![CDATA[<h1>Flume + Flink Kafka å®æ—¶å¤„ç†ä»»åŠ¡é…ç½®ä¸å¼€å‘</h1><p>ä½œè€…ï¼šåœ£å­ç™¾ç‚¼ï¼ˆxxx@example.comï¼‰</p>
        
          <h2 id="ä¸€flume-é‡‡é›†å™¨é…ç½®">
<a class="header-anchor" href="#%e4%b8%80flume-%e9%87%87%e9%9b%86%e5%99%a8%e9%85%8d%e7%bd%ae"></a>
ä¸€ã€Flume é‡‡é›†å™¨é…ç½®
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">a1.sources</span><span class="o">=</span><span class="s">r1</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.channels</span><span class="o">=</span><span class="s">c1</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks</span><span class="o">=</span><span class="s">k1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">a1.sources.r1.type</span><span class="o">=</span><span class="s">netcat</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sources.r1.bind</span><span class="o">=</span><span class="s">localhost</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sources.r1.port</span><span class="o">=</span><span class="s">26001</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">a1.channels.c1.type</span><span class="o">=</span><span class="s">memory</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.channels.c1.capacity</span><span class="o">=</span><span class="s">1000</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.channels.c1.transactionCapacity</span><span class="o">=</span><span class="s">100</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks.k1.type</span><span class="o">=</span><span class="s">org.apache.flume.sink.kafka.KafkaSink</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks.k1.brokerList</span><span class="o">=</span><span class="s">master:9092,slave1:9092,slave2:9092</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks.k1.topic</span><span class="o">=</span><span class="s">tb_hhh</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks.k1.serializer.class</span><span class="o">=</span><span class="s">kafka.serializer.StringEncoder</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">a1.sources.r1.channels</span><span class="o">=</span><span class="s">c1</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks.k1.channel</span><span class="o">=</span><span class="s">c1</span>
</span></span></code></pre></div><h2 id="äºŒflink-ä»»åŠ¡å¼€å‘æ­¥éª¤">
<a class="header-anchor" href="#%e4%ba%8cflink-%e4%bb%bb%e5%8a%a1%e5%bc%80%e5%8f%91%e6%ad%a5%e9%aa%a4"></a>
äºŒã€Flink ä»»åŠ¡å¼€å‘æ­¥éª¤
</h2><h3 id="1-æ„å»º-flink-ç¯å¢ƒ">
<a class="header-anchor" href="#1-%e6%9e%84%e5%bb%ba-flink-%e7%8e%af%e5%a2%83"></a>
1. æ„å»º Flink ç¯å¢ƒ
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">StreamExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
</span></span><span class="line"><span class="cl"><span class="n">env</span><span class="o">.</span><span class="n">setParallelism</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">inputStream</span><span class="o">.</span><span class="n">print</span><span class="o">()</span>
</span></span><span class="line"><span class="cl"><span class="n">env</span><span class="o">.</span><span class="n">execute</span><span class="o">(</span><span class="s">&#34;JobName&#34;</span><span class="o">)</span>
</span></span></code></pre></div><h3 id="2-ç¡®è®¤æ•°æ®æ¥æº">
<a class="header-anchor" href="#2-%e7%a1%ae%e8%ae%a4%e6%95%b0%e6%8d%ae%e6%9d%a5%e6%ba%90"></a>
2. ç¡®è®¤æ•°æ®æ¥æº
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="c1">// æµ‹è¯•æ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">val</span> <span class="n">inputStream</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">readTextFile</span><span class="o">(</span><span class="s">&#34;è·¯å¾„&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç½‘ç»œç«¯å£
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">val</span> <span class="n">inputStream</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">socketTextStream</span><span class="o">(</span><span class="s">&#34;localhost&#34;</span><span class="o">,</span> <span class="n">ç«¯å£å·</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Kafka
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">val</span> <span class="n">props</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Properties</span><span class="o">()</span>
</span></span><span class="line"><span class="cl"><span class="n">props</span><span class="o">.</span><span class="n">setProperty</span><span class="o">(</span><span class="s">&#34;bootstrap.servers&#34;</span><span class="o">,</span> <span class="s">&#34;192.168.136.3:9092,...&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">props</span><span class="o">.</span><span class="n">setProperty</span><span class="o">(</span><span class="s">&#34;group.id&#34;</span><span class="o">,</span> <span class="s">&#34;aaa&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="n">inputStream</span> <span class="k">=</span> <span class="n">env</span><span class="o">.</span><span class="n">addSource</span><span class="o">(</span><span class="k">new</span> <span class="nc">FlinkKafkaConsumer</span><span class="o">[</span><span class="kt">String</span><span class="o">](</span><span class="s">&#34;student_hhh&#34;</span><span class="o">,</span> <span class="k">new</span> <span class="nc">SimpleStringSchema</span><span class="o">(),</span> <span class="n">props</span><span class="o">))</span>
</span></span></code></pre></div><h3 id="3-æ•°æ®æ¸…æ´—">
<a class="header-anchor" href="#3-%e6%95%b0%e6%8d%ae%e6%b8%85%e6%b4%97"></a>
3. æ•°æ®æ¸…æ´—
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="k">val</span> <span class="n">dataStream</span> <span class="k">=</span> <span class="n">inputStream</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">startsWith</span><span class="o">(</span><span class="s">&#34;A&#34;</span><span class="o">))</span>
</span></span></code></pre></div><h3 id="4-æ•°æ®åˆ†ç»„ä¸èšåˆ">
<a class="header-anchor" href="#4-%e6%95%b0%e6%8d%ae%e5%88%86%e7%bb%84%e4%b8%8e%e8%81%9a%e5%90%88"></a>
4. æ•°æ®åˆ†ç»„ä¸èšåˆ
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="k">val</span> <span class="n">resultStream</span> <span class="k">=</span> <span class="n">dataStream</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">val</span> <span class="n">arr1</span> <span class="k">=</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&#34;åˆ†éš”ç¬¦&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">val</span> <span class="n">arr2</span> <span class="k">=</span> <span class="n">arr1</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="n">split</span><span class="o">(</span><span class="s">&#34;åˆ†éš”ç¬¦&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">(</span><span class="n">arr2</span><span class="o">(</span><span class="mi">0</span><span class="o">),</span> <span class="mi">1</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">}).</span><span class="n">keyBy</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">_1</span><span class="o">).</span><span class="n">sum</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span></span></code></pre></div><h3 id="5-æ—¶é—´çª—å£å¯é€‰">
<a class="header-anchor" href="#5-%e6%97%b6%e9%97%b4%e7%aa%97%e5%8f%a3%e5%8f%af%e9%80%89"></a>
5. æ—¶é—´çª—å£ï¼ˆå¯é€‰ï¼‰
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="o">.</span><span class="n">keyBy</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">_1</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="n">timeWindow</span><span class="o">(</span><span class="nc">Time</span><span class="o">.</span><span class="n">minutes</span><span class="o">(</span><span class="mi">8</span><span class="o">))</span> <span class="c1">// æ»šåŠ¨çª—å£
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">.</span><span class="n">timeWindow</span><span class="o">(</span><span class="nc">Time</span><span class="o">.</span><span class="n">minutes</span><span class="o">(</span><span class="mi">10</span><span class="o">),</span> <span class="nc">Time</span><span class="o">.</span><span class="n">minutes</span><span class="o">(</span><span class="mi">3</span><span class="o">))</span> <span class="c1">// æ»‘åŠ¨çª—å£
</span></span></span></code></pre></div><h3 id="6-æ•°æ®è¾“å‡º">
<a class="header-anchor" href="#6-%e6%95%b0%e6%8d%ae%e8%be%93%e5%87%ba"></a>
6. æ•°æ®è¾“å‡º
</h3><h4 id="1-redis-å­—ç¬¦ä¸²å½¢å¼">
<a class="header-anchor" href="#1-redis-%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%bd%a2%e5%bc%8f"></a>
(1) Redis å­—ç¬¦ä¸²å½¢å¼
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="k">val</span> <span class="n">conf</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">FlinkJedisPoolConfig</span><span class="o">.</span><span class="nc">Builder</span><span class="o">().</span><span class="n">setHost</span><span class="o">(</span><span class="s">&#34;localhost&#34;</span><span class="o">).</span><span class="n">setPort</span><span class="o">(</span><span class="mi">6379</span><span class="o">).</span><span class="n">build</span><span class="o">()</span>
</span></span><span class="line"><span class="cl"><span class="n">dataStream</span><span class="o">.</span><span class="n">addSink</span><span class="o">(</span><span class="k">new</span> <span class="nc">RedisSink</span><span class="o">[</span><span class="kt">String</span><span class="o">](</span><span class="n">conf</span><span class="o">,</span> <span class="k">new</span> <span class="nc">RedisMapper</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">getCommandDescription</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">RedisCommandDescription</span><span class="o">(</span><span class="nc">RedisCommand</span><span class="o">.</span><span class="nc">SET</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">getKeyFromData</span><span class="o">(</span><span class="n">t</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">_1</span>
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">getValueFromData</span><span class="o">(</span><span class="n">t</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">_2</span><span class="o">.</span><span class="n">toString</span>
</span></span><span class="line"><span class="cl"><span class="o">}))</span>
</span></span></code></pre></div><h4 id="2-redis-å“ˆå¸Œå½¢å¼">
<a class="header-anchor" href="#2-redis-%e5%93%88%e5%b8%8c%e5%bd%a2%e5%bc%8f"></a>
(2) Redis å“ˆå¸Œå½¢å¼
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="k">new</span> <span class="nc">RedisCommandDescription</span><span class="o">(</span><span class="nc">RedisCommand</span><span class="o">.</span><span class="nc">HSET</span><span class="o">,</span> <span class="s">&#34;myKey&#34;</span><span class="o">)</span>
</span></span></code></pre></div><h4 id="3-æ•°æ®å­˜å…¥-mysql">
<a class="header-anchor" href="#3-%e6%95%b0%e6%8d%ae%e5%ad%98%e5%85%a5-mysql"></a>
(3) æ•°æ®å­˜å…¥ MySQL
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MysqlSink</span> <span class="k">extends</span> <span class="nc">RichSinkFunction</span><span class="o">[(</span><span class="kt">String</span>, <span class="kt">Int</span><span class="o">)]</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">var</span> <span class="n">conn</span><span class="k">:</span> <span class="kt">Connection</span> <span class="o">=</span> <span class="k">_</span>
</span></span><span class="line"><span class="cl">  <span class="k">var</span> <span class="n">upPstmt</span><span class="k">:</span> <span class="kt">PreparedStatement</span> <span class="o">=</span> <span class="k">_</span>
</span></span><span class="line"><span class="cl">  <span class="k">var</span> <span class="n">inPstmt</span><span class="k">:</span> <span class="kt">PreparedStatement</span> <span class="o">=</span> <span class="k">_</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">open</span><span class="o">(</span><span class="n">parameters</span><span class="k">:</span> <span class="kt">Configuration</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span> <span class="k">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="n">getConnection</span><span class="o">(</span><span class="s">&#34;jdbc:mysql://...&#34;</span><span class="o">,</span><span class="s">&#34;root&#34;</span><span class="o">,</span><span class="s">&#34;password&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">inPstmt</span> <span class="k">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">prepareStatement</span><span class="o">(</span><span class="s">&#34;INSERT INTO tb_course_score VALUES (NULL,?,?)&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">upPstmt</span> <span class="k">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">prepareStatement</span><span class="o">(</span><span class="s">&#34;UPDATE tb_course_score SET score=? WHERE course=?&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">invoke</span><span class="o">(</span><span class="n">value</span><span class="k">:</span> <span class="o">(</span><span class="kt">String</span><span class="o">,</span> <span class="kt">Int</span><span class="o">),</span> <span class="n">context</span><span class="k">:</span> <span class="kt">SinkFunction.Context</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">upPstmt</span><span class="o">.</span><span class="n">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_2</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">upPstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_1</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">upPstmt</span><span class="o">.</span><span class="n">execute</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="n">upPstmt</span><span class="o">.</span><span class="n">getUpdateCount</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">inPstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_1</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">      <span class="n">inPstmt</span><span class="o">.</span><span class="n">setInt</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_2</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">      <span class="n">inPstmt</span><span class="o">.</span><span class="n">execute</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">close</span><span class="o">()</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">upPstmt</span><span class="o">.</span><span class="n">close</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">inPstmt</span><span class="o">.</span><span class="n">close</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h4 id="4-æ•°æ®å†™å…¥-clickhouse">
<a class="header-anchor" href="#4-%e6%95%b0%e6%8d%ae%e5%86%99%e5%85%a5-clickhouse"></a>
(4) æ•°æ®å†™å…¥ ClickHouse
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ClickHouseSink</span> <span class="k">extends</span> <span class="nc">RichSinkFunction</span><span class="o">[(</span><span class="kt">String</span>,<span class="kt">String</span>,<span class="kt">String</span>,<span class="kt">Double</span>,<span class="kt">String</span>,<span class="kt">String</span>,<span class="kt">String</span>,<span class="kt">String</span>,<span class="kt">String</span><span class="o">)]</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">var</span> <span class="n">conn</span><span class="k">:</span> <span class="kt">Connection</span> <span class="o">=</span> <span class="k">_</span>
</span></span><span class="line"><span class="cl">  <span class="k">var</span> <span class="n">pstmt</span><span class="k">:</span> <span class="kt">PreparedStatement</span> <span class="o">=</span> <span class="k">_</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">open</span><span class="o">(</span><span class="n">parameters</span><span class="k">:</span> <span class="kt">Configuration</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span> <span class="k">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="n">getConnection</span><span class="o">(</span><span class="s">&#34;jdbc:clickhouse://182.168.136.3&#34;</span><span class="o">,</span><span class="s">&#34;default&#34;</span><span class="o">,</span><span class="s">&#34;123456&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span> <span class="k">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">prepareStatement</span><span class="o">(</span><span class="s">&#34;INSERT INTO tb_hhh VALUES(?,?,?,?,?,?,?,?,?)&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">invoke</span><span class="o">(</span><span class="n">value</span><span class="k">:</span> <span class="o">(</span><span class="kt">String</span><span class="o">,</span> <span class="kt">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">,</span> <span class="nc">Double</span><span class="o">,</span> <span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">),</span> <span class="n">context</span><span class="k">:</span> <span class="kt">SinkFunction.Context</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_1</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_2</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_3</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setDouble</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_4</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_5</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">6</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_6</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_7</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_8</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">setString</span><span class="o">(</span><span class="mi">9</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="n">_9</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">execute</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">override</span> <span class="k">def</span> <span class="n">close</span><span class="o">()</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">pstmt</span><span class="o">.</span><span class="n">close</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h3 id="7-æäº¤æ‰§è¡Œä»»åŠ¡">
<a class="header-anchor" href="#7-%e6%8f%90%e4%ba%a4%e6%89%a7%e8%a1%8c%e4%bb%bb%e5%8a%a1"></a>
7. æäº¤æ‰§è¡Œä»»åŠ¡
</h3><h4 id="æ‰“åŒ…æ­¥éª¤">
<a class="header-anchor" href="#%e6%89%93%e5%8c%85%e6%ad%a5%e9%aa%a4"></a>
æ‰“åŒ…æ­¥éª¤ï¼š
</h4><ol>
<li>åœ¨ IntelliJ IDEA ä¸­æ„å»º -&gt; Build Artifacts -&gt; Rebuild</li>
<li>JAR åŒ…è·¯å¾„ï¼š<code>out/artifacts/...jar</code></li>
<li>ä¼ è¾“è‡³æœåŠ¡å™¨ <code>/opt/jars/</code></li>
</ol>
<h4 id="æ‰§è¡Œä»»åŠ¡">
<a class="header-anchor" href="#%e6%89%a7%e8%a1%8c%e4%bb%bb%e5%8a%a1"></a>
æ‰§è¡Œä»»åŠ¡ï¼š
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Flink é›†ç¾¤æ–¹å¼ï¼ˆéœ€å…ˆç›‘å¬ç«¯å£ï¼‰</span>
</span></span><span class="line"><span class="cl">flink run -c com.xxx.MainClass /opt/jars/app.jar
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Yarn æ–¹å¼ï¼ˆéœ€å¯åŠ¨ Hadoopï¼‰</span>
</span></span><span class="line"><span class="cl">flink run -m yarn-cluster -c com.xxx.MainClass /opt/jars/app.jar
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># å¦‚æœå‡ºé”™ï¼š</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">HADOOP_CLASSPATH</span><span class="o">=</span><span class="sb">`</span>hadoop classpath<span class="sb">`</span>
</span></span></code></pre></div><hr>
<p><strong>è‡³æ­¤ï¼Œå®Œæ•´æ•°æ®é‡‡é›†ã€å¤„ç†ä¸å­˜å‚¨æµç¨‹å®Œæˆã€‚</strong></p>
        
        <hr><p>æœ¬æ–‡2024-05-15é¦–å‘äº<a href='http://localhost:1313/'>é£æ—ç«å±±</a>ï¼Œæœ€åä¿®æ”¹äº2024-05-15</p>]]>
      </description>
      
    </item>
    
    

    <item>
      <title>Hello World</title>
      <link>http://localhost:1313/post/hello/</link>
      <pubDate>Wed, 15 Mar 2023 11:00:00 -0700</pubDate>
      <author>xxx@example.com (åœ£å­ç™¾ç‚¼)</author>
      <guid>http://localhost:1313/post/hello/</guid>
      <description>
        <![CDATA[<h1>Hello World</h1><p>ä½œè€…ï¼šåœ£å­ç™¾ç‚¼ï¼ˆxxx@example.comï¼‰</p>
        
          <p>ğŸ’˜ åšéº— éœŠå¤¢ ğŸ’˜</p>
        
        <hr><p>æœ¬æ–‡2023-03-15é¦–å‘äº<a href='http://localhost:1313/'>é£æ—ç«å±±</a>ï¼Œæœ€åä¿®æ”¹äº2023-03-15</p>]]>
      </description>
      
    </item>
    
    

    <item>
      <title>Flume &#43; Kafka &#43; Flink å®æ—¶æ•°æ®å¤„ç†</title>
      <link>http://localhost:1313/post/flume_kafka_flink_pipeline/</link>
      <pubDate>Wed, 15 Mar 2023 11:00:00 -0700</pubDate>
      <author>xxx@example.com (åœ£å­ç™¾ç‚¼)</author>
      <guid>http://localhost:1313/post/flume_kafka_flink_pipeline/</guid>
      <description>
        <![CDATA[<h1>Flume + Kafka + Flink å®æ—¶æ•°æ®å¤„ç†</h1><p>ä½œè€…ï¼šåœ£å­ç™¾ç‚¼ï¼ˆxxx@example.comï¼‰</p>
        
          <h2 id="1-flume-é‡‡é›†æ•°æ®è‡³-kafka">
<a class="header-anchor" href="#1-flume-%e9%87%87%e9%9b%86%e6%95%b0%e6%8d%ae%e8%87%b3-kafka"></a>
1. Flume é‡‡é›†æ•°æ®è‡³ Kafka
</h2><h3 id="æ­¥éª¤ä¸€é…ç½®-flume-ç›‘å¬-20000-ç«¯å£å°†æ•°æ®æ‰“å°åˆ°æ§åˆ¶å°æµ‹è¯•">
<a class="header-anchor" href="#%e6%ad%a5%e9%aa%a4%e4%b8%80%e9%85%8d%e7%bd%ae-flume-%e7%9b%91%e5%90%ac-20000-%e7%ab%af%e5%8f%a3%e5%b0%86%e6%95%b0%e6%8d%ae%e6%89%93%e5%8d%b0%e5%88%b0%e6%8e%a7%e5%88%b6%e5%8f%b0%e6%b5%8b%e8%af%95"></a>
æ­¥éª¤ä¸€ï¼šé…ç½® Flume ç›‘å¬ 20000 ç«¯å£ï¼Œå°†æ•°æ®æ‰“å°åˆ°æ§åˆ¶å°æµ‹è¯•
</h3><p><strong>é…ç½®æ–‡ä»¶ mytest.conf å†…å®¹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">a1.sources</span><span class="o">=</span><span class="s">r1</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.channels</span><span class="o">=</span><span class="s">c1</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks</span><span class="o">=</span><span class="s">k1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">a1.sources.r1.type</span><span class="o">=</span><span class="s">netcat</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sources.r1.bind</span><span class="o">=</span><span class="s">localhost</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sources.r1.port</span><span class="o">=</span><span class="s">20000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">a1.channels.c1.type</span><span class="o">=</span><span class="s">memory</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks.k1.type</span><span class="o">=</span><span class="s">logger</span>
</span></span><span class="line"><span class="cl"><span class="c1">#a1.sinks.k1.type=org.apache.flume.sink.kafka.KafkaSink</span>
</span></span><span class="line"><span class="cl"><span class="c1">#a1.sinks.k1.kafka.topic=mytest</span>
</span></span><span class="line"><span class="cl"><span class="c1">#a1.sinks.k1.kafka.bootstrap.servers=192.168.44.201:9092,192.168.44.202:9092,192.168.44.203:9092</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">a1.sources.r1.channels</span><span class="o">=</span><span class="s">c1</span>
</span></span><span class="line"><span class="cl"><span class="na">a1.sinks.k1.channel</span><span class="o">=</span><span class="s">c1</span>
</span></span></code></pre></div><p><strong>å¯åŠ¨å‘½ä»¤ï¼š</strong></p>
        
        <hr><p>æœ¬æ–‡2023-03-15é¦–å‘äº<a href='http://localhost:1313/'>é£æ—ç«å±±</a>ï¼Œæœ€åä¿®æ”¹äº2023-03-15</p>]]>
      </description>
      
    </item>
    
  </channel>
</rss>
